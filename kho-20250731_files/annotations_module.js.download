(function(g){var window=this;'use strict';var To=function(p){p.publish("cardstatechange",p.kD()&&p.Ju()?1:0)},Qc=function(p,x){var a=g.vQ(x),v=a?x:arguments;
for(a=a?0:1;a<v.length;a++){if(p==null)return;p=p[v[a]]}return p},B4j=function(p){var x=g.p$(p);
p=g.aT(p);return new g.GL(x.x,x.y,p.width,p.height)},lYO=function(p,x,a){var v=v===void 0?{}:v;
var c;return c=g.hX(p,x,function(){g.jh(c);a.apply(p,arguments)},v)},f7=function(p){p=g.Rv(p);
delete mX[p];g.lu(mX)&&SE&&SE.stop()},YCV=function(){SE||(SE=new g.AW(function(){Lej()},20));
var p=SE;p.isActive()||p.start()},Lej=function(){var p=g.BQ();
g.FO(mX,function(x){hLQ(x,p)});
g.lu(mX)||YCV()},C7=function(p,x,a,v){g.Ju.call(this);
if(!Array.isArray(p)||!Array.isArray(x))throw Error("Start and end parameters must be arrays");if(p.length!=x.length)throw Error("Start and end points must be the same length");this.Z=p;this.V=x;this.duration=a;this.C=v;this.coords=[];this.progress=this.S=0;this.B=null},hLQ=function(p,x){x<p.startTime&&(p.endTime=x+p.endTime-p.startTime,p.startTime=x);
p.progress=(x-p.startTime)/(p.endTime-p.startTime);p.progress>1&&(p.progress=1);p.S=1E3/(x-p.B);p.B=x;jpO(p,p.progress);p.progress==1?(p.U=0,f7(p),p.onFinish(),p.Ae()):p.isPlaying()&&p.Yf()},jpO=function(p,x){typeof p.C==="function"&&(x=p.C(x));
p.coords=Array(p.Z.length);for(var a=0;a<p.Z.length;a++)p.coords[a]=(p.V[a]-p.Z[a])*x+p.Z[a]},IYO=function(p,x){g.PL.call(this,p);
this.coords=x.coords;this.x=x.coords[0];this.y=x.coords[1];this.z=x.coords[2];this.duration=x.duration;this.progress=x.progress;this.fps=x.S;this.state=x.U},Xf=function(p,x,a,v,c){C7.call(this,x,a,v,c);
this.element=p},MrE=function(p,x,a,v,c){if(x.length!=2||a.length!=2)throw Error("Start and end points must be 2D");
Xf.call(this,p,x,a,v,c)},WeX=function(p){return Math.pow(p,3)},keZ=function(p){return 3*p*p-2*p*p*p},Dx$=function(p){g.y.call(this);
this.Z=p||window;this.U=[]},ij=function(p){return p.baseUrl||null},ol=function(p,x){return g.mC(g.IT(p,x),function(a){return!!a})},UxX=function(p,x,a){function v(LU){var R8=LU.hovercardButton;
if(!R8)return null;R8=R8.subscribeButtonRenderer;if(!R8)return null;var KU=J(R8.unsubscribedButtonText),x1=J(R8.subscribedButtonText);if(R8.subscribed){var mx=J(R8.subscriberCountWithUnsubscribeText);var eI=J(R8.subscriberCountText)}else mx=J(R8.subscriberCountText),eI=J(R8.subscriberCountWithSubscribeText);var xt=null;if(LU.signinEndpoint){xt=Qc(LU,"signinEndpoint","webNavigationEndpointData","url");if(!xt){var jj,KG;xt=(KG=g.O((jj=R8.signInEndpoint)==null?void 0:jj.commandMetadata,g.W7))==null?
void 0:KG.url}if(!xt)return null}return KU&&(x1||xt)?{subscribed:R8.subscribed,subscribeText:KU,subscribeCount:mx,unsubscribeText:x1,unsubscribeCount:eI,enabled:R8.enabled,signinUrl:xt,classic:LU.useClassicSubscribeButton}:null}
function c(LU){if(LU){var R8=[],KU=LU.videoId;KU&&R8.push("v="+KU);(KU=LU.playlistId)&&R8.push("list="+KU);(LU=LU.startTimeSeconds)&&R8.push("t="+LU);return"/watch?"+R8.join("&")}}
function J(LU){if(!LU)return null;var R8=LU.simpleText;return R8?R8:LU.runs?g.IT(LU.runs,function(KU){return KU.text}).join(""):null}
x=x.endscreenElementRenderer;if(!x)return null;var R=x.style,d=x.endpoint||{},b=null,r=null,B=!1,l=null,L=null,Y=null,h=null,D=!1,H=null,f=null,m=null,X=null,E=null,A=null;if(R==="VIDEO")g.O(d,g.Se)?b=g.O(d,g.Se).url:(A=g.O(d,g.hM),b=c(A)),r=!1,l=p,x.thumbnailOverlays?(B=x.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,L=J(B.text),B=B.style==="LIVE"):L=J(x.videoDuration);else if(R==="PLAYLIST")g.O(d,g.Se)?b=g.O(d,g.Se).url:(A=g.O(d,g.hM),b=c(A)),r=!1,l=p,Y=J(x.playlistLength);else if(R===
"CHANNEL"){if(D=Qc(d,"browseEndpoint","browseId"))h=D,b="/channel/"+h;r=!1;l="new";(D=!!x.isSubscribe)?H=v(x):f=J(x.subscribersText)}else R==="WEBSITE"?((m=Qc(d,"urlEndpoint","url"))&&(b=m),r=!0,l="new",m=x.icon.thumbnails[0].url):R==="CREATOR_MERCHANDISE"&&(x.productPrice&&(X=J(x.productPrice)),x.additionalFeesText&&(E=J(x.additionalFeesText)),(r=Qc(d,"urlEndpoint","url"))&&(b=r),r=!0,l="new");p=Qc(x,"title","accessibility","accessibilityData","label");var u=x.endpoint?x.endpoint.clickTrackingParams:
null,n="";if(x.metadata){var co=J(x.metadata);co&&(n=co)}return{id:"element-"+a,type:R,title:J(x.title),metadata:n,callToAction:J(x.callToAction),St:x.image,iconUrl:m,left:Number(x.left),width:Number(x.width),top:Number(x.top),aspectRatio:Number(x.aspectRatio),startMs:Math.floor(Number(x.startMs)),endMs:Math.floor(Number(x.endMs)),videoDuration:L,t5:B,playlistLength:Y,channelId:h,subscribeButton:H,subscribersText:f,isSubscribe:D,targetUrl:b||null,VY:r,sessionData:u?{itct:u}:null,q6$:l,ND:p?p:null,
isPlaceholder:x.isPlaceholder,impressionUrls:ol(x.impressionUrls||[],ij),Oc:ol(x.hovercardShowUrls||[],ij),clickUrls:ol(d.loggingUrls||[],ij),visualElement:g.Bp(x.trackingParams),productPrice:X,additionalFeesText:E,watchEndpoint:A||null}},H4G=function(p,x){var a={startMs:Math.floor(Number(p.startMs)),
impressionUrls:ol(p.impressionUrls||[],ij),elements:ol(p.elements||[],function(v,c){return UxX(x,v,c)})};
p.trackingParams&&(a.visualElement=g.Bp(p.trackingParams));return a},T4t=function(p){g.Tf.call(this,p);
this.B=this.endscreen=null;this.Z={};this.S={};this.C=this.j=null;this.Y=[];this.U=null;this.Zt=!0;this.V=0;p=p.L();this.T=g.xO(p)||g.af(p);this.events=new g.II(this);g.Z(this,this.events);this.events.X(this.player,g.GF("creatorendscreen"),this.onCueRangeEnter);this.events.X(this.player,g.Oo("creatorendscreen"),this.onCueRangeExit);this.events.X(this.player,"resize",this.LW);this.events.X(window,"focus",this.q8a);this.load();var x=g.Lw("STYLE");(g.cY("HEAD")[0]||document.body).appendChild(x);this.addOnDisposeCallback(function(){g.WY(x)});
x.sheet&&(x.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),x.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},Qpj=function(p){return p.player.getVideoData().fp?"current":p.T?"new":"current"},tH=function(p){return p.player.L().playerStyle==="creator-endscreen-editor"},mxX=function(p){var x=p.player.getVideoData(),a=x.videoId;
p.B&&p.B.abort();a={method:"POST",onFinish:function(c){var J=p.B=null;c.status===200&&(c=c.responseText,c.substring(0,3)===")]}"&&(c=c.substring(3),J=JSON.parse(c),J=H4G(J,Qpj(p))));zo(p,J)},
urlParams:{v:a},withCredentials:!0};p.T&&(a.urlParams.ptype="embedded");var v=x.HH;v&&(a.postParams={ad_tracking:v});if(x=g.OQ8(x))if(x=g.R0(x),x=g.vs(x))p.B=g.Mk(x,a)},zo=function(p,x,a){a=a===void 0?!0:a;
p.player.Mg("creatorendscreen");p.j&&(p.j.dispose(),p.j=null,p.C.dispose(),p.C=null);for(var v=g.k(Object.values(p.Z)),c=v.next();!c.done;c=v.next())c.value.dispose();p.Z={};p.S={};p.Y.length>0&&(p.Y.forEach(function(d){d.dispose()}),p.Y.length=0);
p.U&&(g.sm(p.U,"ytp-ce-element-show"),p.U.setAttribute("aria-hidden","true"));p.V=0;if((p.endscreen=x)&&x.elements){a&&SCj(p);a=[];v=new g.gZ(x.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});a.push(v);p.player.L().Z||(p.j=new g.N({J:"div",K:"ytp-ce-shadow"}),g.qh(p.player,p.j.element,4),p.C=new g.qp(p.j,200));for(v=0;v<x.elements.length;++v){c=x.elements[v];var J=fYO(p,c);if(J){p.Z[c.id]=J;p.S[c.id]=c;g.qh(p.player,J.element,4);var R=new g.gZ(c.startMs,c.endMs,{id:"ytp-ce-element-"+
c.id,namespace:"creatorendscreen"});a.push(R);C3R(p,J,c)}else g.Hp(new g.gr("buildEndscreenElement null",c))}p.player.xN(a);p.LW()}},SCj=function(p){var x=g.Lr(),a=g.Yi();
a&&x&&p.endscreen.visualElement&&g.Pr(g.w6)(void 0,a,x,p.endscreen.visualElement)},fYO=function(p,x){var a=null;
switch(x.type){case "VIDEO":p={J:"div",CI:["ytp-ce-element","ytp-ce-video"],G:{tabindex:"0","aria-label":x.ND||"","aria-hidden":"true"},N:[{J:"div",K:"ytp-ce-element-shadow"},{J:"div",K:"ytp-ce-covering-image",G:wE(x)},{J:"div",K:"ytp-ce-covering-shadow-top"},{J:"a",K:"ytp-ce-covering-overlay",G:{href:E2(p,x.targetUrl),tabindex:"-1"},N:[{J:"div",CI:["ytp-ce-video-title","ytp-webkit-ellipsis"],G:{dir:g.rj(x.title||"")},wr:x.title},{J:"div",K:x.t5?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
wr:x.videoDuration||void 0}]}]};a=new g.N(p);break;case "PLAYLIST":p={J:"div",CI:["ytp-ce-element","ytp-ce-playlist"],G:{tabindex:"0","aria-label":x.ND||"","aria-hidden":"true"},N:[{J:"div",K:"ytp-ce-element-shadow"},{J:"div",K:"ytp-ce-covering-image",G:wE(x)},{J:"div",K:"ytp-ce-covering-shadow-top"},{J:"a",K:"ytp-ce-covering-overlay",G:{href:E2(p,x.targetUrl),tabindex:"-1"},N:[{J:"div",CI:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],G:{dir:g.rj(x.title||"")},wr:x.title},{J:"div",K:"ytp-ce-playlist-count",
N:[{J:"div",K:"ytp-ce-playlist-icon"},{J:"div",K:"ytp-ce-playlist-count-text",wr:x.playlistLength||void 0}]}]}]};a=new g.N(p);break;case "CHANNEL":a={J:"div",CI:["ytp-ce-element","ytp-ce-channel",x.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],G:{tabindex:"0","aria-label":x.ND||"","aria-hidden":"true"},N:[{J:"div",K:"ytp-ce-element-shadow"},{J:"div",K:"ytp-ce-expanding-overlay",N:[{J:"div",K:"ytp-ce-expanding-overlay-hider"},{J:"div",K:"ytp-ce-expanding-overlay-background"},{J:"div",K:"ytp-ce-expanding-overlay-content",
N:[{J:"div",K:"ytp-ce-expanding-overlay-body",N:[{J:"div",K:"ytp-ce-expanding-overlay-body-padding",N:[{J:"a",CI:["ytp-ce-channel-title","ytp-ce-link"],G:{href:E2(p,x.targetUrl),target:"_blank",tabindex:"-1",dir:g.rj(x.title||"")},wr:x.title},x.subscribeButton?{J:"div",K:"ytp-ce-subscribe-container",N:[{J:"div",K:"ytp-ce-channel-subscribe"}]}:"",x.subscribersText?{J:"div",K:"ytp-ce-channel-subscribers-text",wr:x.subscribersText}:"",x.metadata?{J:"div",CI:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],wr:x.metadata}:""]}]}]}]},{J:"div",K:"ytp-ce-expanding-image",G:wE(x)}]};a=new g.N(a);var v=g.Rt(document,"div","ytp-ce-channel-subscribe",a.element)[0];if(x.subscribeButton&&x.channelId){g.$W(v,"ytp-ce-subscribe-button");if(p.player.L().Z){var c=null;var J=x.sessionData.itct}else c="endscreen",J=null;c=new g.vO(x.subscribeButton.subscribeText,x.subscribeButton.subscribeCount,x.subscribeButton.unsubscribeText,x.subscribeButton.unsubscribeCount,!!x.subscribeButton.enabled,!!x.subscribeButton.classic,
x.channelId,!!x.subscribeButton.subscribed,c,J,p.player,!1);v.appendChild(c.element);p.Y.push(c)}break;case "WEBSITE":p={J:"div",CI:["ytp-ce-element","ytp-ce-website"],G:{tabindex:"0","aria-label":x.ND||"","aria-hidden":"true"},N:[{J:"div",K:"ytp-ce-element-shadow"},{J:"div",K:"ytp-ce-expanding-overlay",N:[{J:"div",K:"ytp-ce-expanding-overlay-hider"},{J:"div",K:"ytp-ce-expanding-overlay-background"},{J:"div",K:"ytp-ce-expanding-overlay-content",N:[{J:"div",K:"ytp-ce-expanding-overlay-body",N:[{J:"div",
K:"ytp-ce-expanding-overlay-body-padding",N:[{J:"div",K:"ytp-ce-website-title",G:{dir:g.rj(x.title||"")},wr:x.title},{J:"div",K:"ytp-ce-website-metadata",wr:x.metadata},{J:"a",CI:["ytp-ce-website-goto","ytp-ce-link"],G:{href:E2(p,x.targetUrl),target:"_blank",tabindex:"-1"},wr:x.callToAction}]}]}]}]},{J:"div",K:"ytp-ce-expanding-image",G:wE(x)},{J:"div",K:"ytp-ce-expanding-icon",G:X3$(x.iconUrl)}]};a=new g.N(p);break;case "CREATOR_MERCHANDISE":a="",x.productPrice&&(a={J:"div",K:"ytp-ce-merchandise-price-container",
N:[{J:"div",K:"ytp-ce-merchandise-price",wr:x.productPrice}]},x.additionalFeesText&&a.N.push({J:"div",K:"ytp-ce-merchandise-additional-fees",wr:x.additionalFeesText})),p={J:"div",CI:["ytp-ce-element","ytp-ce-merchandise"],G:{tabindex:"0","aria-label":x.ND||"","aria-hidden":"true"},N:[{J:"div",K:"ytp-ce-element-shadow"},{J:"div",K:"ytp-ce-expanding-overlay",N:[{J:"div",K:"ytp-ce-expanding-overlay-hider"},{J:"div",K:"ytp-ce-expanding-overlay-background"},{J:"div",K:"ytp-ce-expanding-overlay-content",
N:[{J:"div",K:"ytp-ce-expanding-overlay-body",N:[{J:"div",K:"ytp-ce-expanding-overlay-body-padding",N:[{J:"div",K:"ytp-ce-merchandise-title",G:{dir:g.rj(x.title||"")},wr:x.title},a,{J:"div",K:"ytp-ce-merchandise-metadata",wr:x.metadata},{J:"a",CI:["ytp-ce-merchandise-goto","ytp-ce-link"],G:{href:E2(p,x.targetUrl),target:"_blank",tabindex:"-1"},wr:x.callToAction}]}]}]}]},{J:"div",K:"ytp-ce-expanding-image",G:wE(x)},{J:"div",K:"ytp-ce-merchandise-invideo-cta-container",N:[{J:"div",K:"ytp-ce-merchandise-invideo-cta",
wr:x.callToAction||void 0}]}]},a=new g.N(p)}x.isPlaceholder&&g.$W(a.element,"ytp-ce-placeholder");return a},wE=function(p){if(p.St)var x=p.St.thumbnails;
return X3$(x?x[x.length-1].url:null)},X3$=function(p){return p?{style:"background-image: url("+p+")"}:{}},C3R=function(p,x,a){function v(b){b&&(x.listen("blur",function(){b.style.display!="none"&&p.Zt&&b.focus()}),x.X(b,"focus",J),x.X(b,"blur",R))}
function c(b){p.V+=b;p.V>0?(g.$W(x.element,"ytp-ce-force-expand"),yc(p,a.id,!0)):(g.sm(x.element,"ytp-ce-force-expand"),g.sm(x.element,"ytp-ce-element-hover"),yc(p,a.id,!1))}
function J(){c(1)}
function R(){c(-1)}
x.listen("mouseenter",function(){i4j(p,x,a)});
x.listen("mouseleave",function(){ogt(p,x,a)});
p.player.L().Z||x.listen("click",function(){g.$W(x.element,"ytp-ce-element-hover")});
x.listen("click",function(b){trv(p,a,b)});
x.listen("keypress",function(b){trv(p,a,b)});
x.listen("focus",function(){i4j(p,x,a)});
x.listen("blur",function(){ogt(p,x,a)});
x.listen("touchstart",function(){i4j(p,x,a)});
var d=g.Kw("ytp-ce-expanding-overlay-hider",x.element);d&&x.X(d,"touchstart",function(b){b.stopPropagation();g.sm(x.element,"ytp-ce-element-hover");g.sm(x.element,"ytp-ce-force-expand")});
x.listen("keydown",function(b){p.Zt=b.keyCode===9&&!b.shiftKey});
v(g.Kw("ytp-sb-subscribe",x.element));v(g.Kw("ytp-sb-unsubscribe",x.element));x.listen("focus",J);x.listen("blur",R)},trv=function(p,x,a){if(x.targetUrl&&(!a||a.type!=="keypress"||a.keyCode===13)){for(var v=a.target;v&&!g.xW(v,"ytp-ce-element");){g.xW(v,"subscribe-label")&&zLQ(p,x);
if(g.xW(v,"ytp-ce-channel-subscribe"))return;v=v.parentElement||null}if(!v||g.xW(v,"ytp-ce-element-hover")){a.preventDefault();a.stopPropagation();if(v=p.Z[x.id])ogt(p,v,x),v.element.blur();if(a.ctrlKey||a.metaKey||x.q6$==="new")zLQ(p,x),p.player.sendVideoStatsEngageEvent(17,void 0),p.player.pauseVideo(),a=g.R0(E2(p,x.targetUrl)),a=g.vs(a),g.zN(a,void 0,x.sessionData);else{var c=g.YO(p.player.L())||p.player.getVideoData().fp,J=function(){var R=E2(p,x.targetUrl),d=x.sessionData,b=x.watchEndpoint,r=
g.Fj(R);c&&r&&(r.v||r.list)?p.player.Nh(r.v,d,r.list,!1,void 0,b||void 0):g.tz(R,d)};
zLQ(p,x,function(){p.player.sendVideoStatsEngageEvent(17,J)})}}}},E2=function(p,x){p=p.player.L();
if(x){if(x.startsWith("//"))return p.protocol+":"+x;if(x.startsWith("/"))return g.UF(p)+x}else return"";return x},i4j=function(p,x,a){g.xW(x.element,"ytp-ce-element-hover")||(a.type==="VIDEO"||a.type==="PLAYLIST"?g.$W(x.element,"ytp-ce-element-hover"):p.player.L().Z?(new g.AW(function(){g.$W(x.element,"ytp-ce-element-hover")},200)).start():g.$W(x.element,"ytp-ce-element-hover"),gE(p,a.Oc),yc(p,a.id,!0))},ogt=function(p,x,a){g.sm(x.element,"ytp-ce-element-hover");
g.sm(x.element,"ytp-ce-force-expand");yc(p,a.id,!1)},yc=function(p,x,a){p.j&&(a?p.C.show():p.C.hide());
for(var v=g.k(Object.keys(p.Z)),c=v.next();!c.done;c=v.next())c=c.value,c!==x&&g.cG(p.Z[c].element,"ytp-ce-element-shadow-show",a)},gE=function(p,x,a){function v(){J||(c++,c===x.length&&(R.stop(),a&&a()))}
if(!x||x.length===0||tH(p))a&&a();else{x=w3E(p,x);var c=0,J=!1,R=new g.AW(function(){J=!0;a&&a()},1E3,p);
R.start();for(p=0;p<x.length;p++)g.fh(x[p],v)}},zLQ=function(p,x,a){gE(p,x.clickUrls,a);
(p=g.Yi())&&x.VY&&g.nr(p,x.visualElement)},w3E=function(p,x){var a=p.player.getVideoData().clientPlaybackNonce;
p=p.player.getCurrentTime().toFixed(2);a={CPN:a,AD_CPN:a,MT:p};p=[];for(var v=0;v<x.length;v++)p.push(Egy(x[v],a));return p},Egy=function(p,x){return p.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(a){var v=unescape(a);
v=v.substring(1,v.length-1);return x[v]?escape(x[v]):a})},y7O=function(p){return typeof p==="string"?p:""},ZR=function(p,x,a){for(var v in x)if(x[v]===p)return p;
return a},ggX=function(p,x,a,v){this.value=p;
this.target=x;this.showLinkIcon=a;this.U=v},Go=function(p){return p.value?p.value:null},O2=function(p){if(!p)return null;
var x=g.R0(y7O(p.value));x=g.vs(x);if(!x)return null;var a=ZR(p.target,Z4Z,"current");if(a==null)p=null;else{var v=p.show_link_icon;p=new ggX(x,a,v==="true"||v==="false"?v==="true":!0,p.pause_on_navigation!=null?p.pause_on_navigation:!0)}return p},Get=function(p,x,a){this.type=p;
this.trigger=x;this.url=a},A7Z=function(p){if(!p)return null;
var x=ZR(p.type,O4v),a=ZR(p.trigger,N4O);p=p.url;p=Array.isArray(p)&&p.length?p[0]:p;p=O2(p?p:null);return x?new Get(x,a,p):null},P3X=function(p,x,a,v,c){this.id=p;
this.type=x;this.style=a;this.data=c;this.action=v||[]},qCR=function(p,x){return g.ME(p.action,x)},ngO=function(p,x){this.context=p;
this.U=x},eLO=function(p){return p.customMessage?NR("div","iv-card-message",p.customMessage):""},AH=function(p,x){p="background-image: url("+p+");";
var a=[];x&&a.push(x);return{J:"div",K:"iv-card-image",G:{style:p},N:a}},u$R=function(p){if(!p.metaInfo||p.metaInfo.length===0)return"";
var x=[];p=g.k(p.metaInfo);for(var a=p.next();!a.done;a=p.next())x.push(NR("li","",a.value));return{J:"ul",K:"iv-card-meta-info",N:x}},NR=function(p,x,a){x?typeof x==="string"?x={"class":x}:Array.isArray(x)&&(x={"class":x.join(" ")}):x={};
x.dir=g.rj(a);return{J:p,G:x,wr:a}},Vr$=function(p){if(!p.customMessage)return"";
var x=["iv-card-action","iv-card-primary-link"],a={};p.dX&&(x.push("iv-card-action-icon"),a.style="background-image: url("+p.dX+");");a.dir=g.rj(p.customMessage);var v=[{J:"span",wr:p.customMessage}];p.showLinkIcon&&(v.push("\u00a0"),v.push({J:"span",K:"iv-card-link-icon"}));return{J:"div",CI:x,G:a,N:v}},Pi=function(p,x,a,v){if(v){x=g.k(x);
for(var c=x.next();!c.done;c=x.next())p.U(c.value,v,a.id,a.sessionData,a.wy.click,5)}},FeZ=function(p,x){this.merchant=p;
this.price=x},pMZ=function(p){var x;
(x=p)&&!(x=p.length>1?p.charAt(0)==="/"&&p.charAt(1)!=="/":p==="/")&&(x=p.replace(/^(https?:)?\/\//,"").split("/",1),x=!x||x.length<1||!x[0]?[]:x[0].toLowerCase().split(".").reverse(),x=x[0]==="com"&&x[1]==="youtube"||x[0]==="be"&&x[1]==="youtu");return x?p.indexOf("/redirect?")===-1:!1},xCZ=function(p,x){return x?x:pMZ(p)?"current":"new"},qR=function(p,x){g.y.call(this);
var a=this;this.element=p;this.context=x;this.T4=!1;this.gr=new Map;this.LI=new Map;this.context.W.addEventListener(g.GF("annotations_module"),function(v){(v=a.gr.get(v))&&v.apply(a)});
this.context.W.addEventListener(g.Oo("annotations_module"),function(v){(v=a.LI.get(v))&&v.apply(a)})},n7=function(p,x,a,v,c,J,R){p.context.U.listen(x,"click",function(d){p.xf(a,v,c,J||[],R||0,d)});
p.context.U.listen(x,"touchstart",function(){p.T4=!1});
p.context.U.listen(x,"touchmove",function(){p.T4=!0})},$CO=function(p){var x;
return((x=g.O(p,g.Se))==null?0:x.url)?g.O(p,g.Se).url:(p=g.O(p,g.hM))&&p.videoId?(x="/watch?v="+p.videoId,p.playlistId&&(x+="&list="+p.playlistId),p.index&&(x+="&index="+p.index),p.startTimeSeconds&&(x+="&t="+p.startTimeSeconds),x):null},eE=function(p,x,a){return{Tz:(p.impressionLoggingUrlsV2s||[]).map(function(v){return v.baseUrl||""}),
click:(a.loggingUrls||[]).map(function(v){return v.baseUrl||""}),
close:(x.dismissLoggingUrlsV2s||[]).map(function(v){return v.baseUrl||""}),
d5:(x.impressionLoggingUrlsV2s||[]).map(function(v){return v.baseUrl||""}),
zS:(x.clickLoggingUrlsV2s||[]).map(function(v){return v.baseUrl||""})}},aiw=function(p,x,a){qR.call(this,x,a);
var v=this;this.W=p;this.eventId=null;this.Zp=this.hG=this.OS=this.j=this.isInitialized=!1;this.cards=[];this.oa=this.C=this.qT=this.S=this.tG=this.U=null;this.Zt=[];this.pI=this.Y=this.Ty=this.F5=null;this.V=0;this.u$=new g.AW(function(){},a.z4.fT?4E3:3E3);
g.Z(this,this.u$);this.HO=new g.AW(function(){});
g.Z(this,this.HO);this.O7=new ngO(a,function(c,J,R,d,b,r){n7(v,c,J,R,d,b,r)});
this.T=new g.N({J:"div",K:"iv-drawer",G:{id:"iv-drawer"},N:[{J:"div",K:"iv-drawer-header",G:{"aria-role":"heading"},N:[{J:"span",K:"iv-drawer-header-text"},{J:"button",CI:["iv-drawer-close-button","ytp-button"],G:{"aria-label":"Hide cards",tabindex:"0"}}]},{J:"div",K:"iv-drawer-content"}]});g.Z(this,this.T);this.B=this.T.element;this.Ra=new g.qp(this.T,330);g.Z(this,this.Ra);this.US=g.Kw("iv-drawer-header-text",this.B);this.Z=g.Kw("iv-drawer-content",this.B);this.addCueRange(0,a.videoData.lengthSeconds*
1E3,"",function(){v.OS&&uj(v,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(v.OS=v.j)&&Vc(v)});
this.V6=new g.II(this);g.Z(this,this.V6);this.W.addEventListener("videodatachange",this.WM.bind(this))},s4G=function(p,x){x=x.data;
x.autoOpenMs&&p.addCueRange(x.autoOpenMs,0x8000000000000,"",function(){uj(p,"YOUTUBE_DRAWER_AUTO_OPEN")});
x.autoCloseMs&&p.addCueRange(x.autoCloseMs,0x8000000000000,"",function(){Vc(p)});
var a=x.headerText;g.Dp(p.US,a);p.C&&(p.W.D("player_tooltip_data_title_killswitch")?p.C.setAttribute("title",a):p.C.setAttribute("data-tooltip-title",a));x.eventId&&(p.eventId=x.eventId);p.F5=g.Bp(x.trackingParams);p.Y=g.Bp(x.closeTrackingParams);p.Ty=g.Bp(x.iconTrackingParams)},vDX=function(p,x){var a=x.cardId?x.cardId:"cr:"+p.V,v=p.W.L().experiments.cO("enable_error_corrections_infocard_web_client");
if(!x.content&&x.teaser.simpleCardTeaserRenderer&&v){var c=x.teaser.simpleCardTeaserRenderer,J=x.icon?x.icon.infoCardIconRenderer:null;if(c.channelAvatar&&c.channelAvatar.thumbnails&&c.channelAvatar.thumbnails.length>0)var R=Ff(c.channelAvatar.thumbnails,22,22).url;x={id:a,timestamp:p.V,type:"simple",teaserText:g.Jv(c.message),teaserDurationMs:Number(x.cueRanges[0].teaserDurationMs),startMs:Number(x.cueRanges[0].startCardActiveMs),autoOpen:!!x.autoOpen,sessionData:{},sponsored:!1,wy:{},FW:null,gy:c.trackingParams?
g.Bp(c.trackingParams):null,Ty:J&&J.trackingParams?g.Bp(J.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,dX:null,title:"",customMessage:"",url:null,onClickCommand:c.onTapCommand||null,e9:R};pD(p,x)}else{var d;if((d=x.content)==null?0:d.simpleCardContentRenderer){if(!x.cueRanges.length)return;R=(c=x.content)==null?void 0:c.simpleCardContentRenderer;c=x.teaser.simpleCardTeaserRenderer;J=x.icon?x.icon.infoCardIconRenderer:null;x={id:a,timestamp:p.V,type:"simple",teaserText:g.Jv(c.message),
teaserDurationMs:Number(x.cueRanges[0].teaserDurationMs),startMs:Number(x.cueRanges[0].startCardActiveMs),autoOpen:!!x.autoOpen,sessionData:xF(p,a,x,R),sponsored:!1,wy:eE(R,c,R.command),FW:R.trackingParams?g.Bp(R.trackingParams):null,gy:c.trackingParams?g.Bp(c.trackingParams):null,Ty:J&&J.trackingParams?g.Bp(J.trackingParams):null,imageUrl:Ff(R.image.thumbnails,290,290).url,displayDomain:R.displayDomain?g.Jv(R.displayDomain):null,showLinkIcon:!!R.showLinkIcon,dX:null,title:R.title?g.Jv(R.title):"",
customMessage:R.callToAction?g.Jv(R.callToAction):"",url:g.O(R.command,g.Se).url?O2({pause_on_navigation:!p.context.videoData.isLivePlayback,target:"new",value:g.O(R.command,g.Se).url}):null,onClickCommand:null};pD(p,x)}else{var b;if((b=x.content)==null?0:b.collaboratorInfoCardContentRenderer){if(!x.cueRanges.length)return;R=(J=x.content)==null?void 0:J.collaboratorInfoCardContentRenderer;c=x.teaser.simpleCardTeaserRenderer;J=x.icon?x.icon.infoCardIconRenderer:null;x={id:a,timestamp:p.V,type:"collaborator",
teaserText:g.Jv(c.message),teaserDurationMs:Number(x.cueRanges[0].teaserDurationMs),startMs:Number(x.cueRanges[0].startCardActiveMs),autoOpen:!!x.autoOpen,sessionData:xF(p,a,x,R),sponsored:!1,wy:eE(R,c,R.endpoint),FW:R.trackingParams?g.Bp(R.trackingParams):null,gy:c.trackingParams?g.Bp(c.trackingParams):null,Ty:J&&J.trackingParams?g.Bp(J.trackingParams):null,channelId:g.O(R.endpoint,g.Og).browseId,customMessage:R.customText?g.Jv(R.customText):null,profileImageUrl:Ff(R.channelAvatar.thumbnails,290,
290).url,title:R.channelName?g.Jv(R.channelName):"",metaInfo:[R.subscriberCountText?g.Jv(R.subscriberCountText):""],url:O2({pause_on_navigation:!p.context.videoData.isLivePlayback,target:"new",value:g.O(R.endpoint,g.Og).canonicalBaseUrl?g.O(R.endpoint,g.Og).canonicalBaseUrl:"/channel/"+g.O(R.endpoint,g.Og).browseId}),onClickCommand:null};pD(p,x)}else{var r;if((r=x.content)==null?0:r.playlistInfoCardContentRenderer){if(!x.cueRanges.length)return;var B;R=(B=x.content)==null?void 0:B.playlistInfoCardContentRenderer;
c=x.teaser.simpleCardTeaserRenderer;J=x.icon?x.icon.infoCardIconRenderer:null;x={id:a,timestamp:p.V,type:"playlist",teaserText:g.Jv(c.message),teaserDurationMs:Number(x.cueRanges[0].teaserDurationMs),startMs:Number(x.cueRanges[0].startCardActiveMs),autoOpen:!!x.autoOpen,sessionData:xF(p,a,x,R),sponsored:!1,wy:eE(R,c,R.action),FW:R.trackingParams?g.Bp(R.trackingParams):null,gy:c.trackingParams?g.Bp(c.trackingParams):null,Ty:J&&J.trackingParams?g.Bp(J.trackingParams):null,rZ:Ff(R.playlistThumbnail.thumbnails,
258,290).url,customMessage:R.customMessage?g.Jv(R.customMessage):null,playlistVideoCount:g.Jv(R.playlistVideoCount),title:R.playlistTitle?g.Jv(R.playlistTitle):"",metaInfo:[R.channelName?g.Jv(R.channelName):"",R.videoCountText?g.Jv(R.videoCountText):""],url:O2({pause_on_navigation:!p.context.videoData.isLivePlayback,target:"new",value:$CO(R.action)}),onClickCommand:null};pD(p,x)}else{var l;if((l=x.content)==null?0:l.videoInfoCardContentRenderer){if(!x.cueRanges.length)return;var L;R=(L=x.content)==
null?void 0:L.videoInfoCardContentRenderer;c=x.teaser.simpleCardTeaserRenderer;J=x.icon?x.icon.infoCardIconRenderer:null;x={id:a,timestamp:p.V,type:"video",teaserText:g.Jv(c.message),teaserDurationMs:Number(x.cueRanges[0].teaserDurationMs),startMs:Number(x.cueRanges[0].startCardActiveMs),autoOpen:!!x.autoOpen,sessionData:xF(p,a,x,R),sponsored:!1,wy:eE(R,c,R.action),FW:R.trackingParams?g.Bp(R.trackingParams):null,gy:c.trackingParams?g.Bp(c.trackingParams):null,Ty:J&&J.trackingParams?g.Bp(J.trackingParams):
null,rZ:Ff(R.videoThumbnail.thumbnails,258,290).url,videoDuration:R.lengthString?g.Jv(R.lengthString):null,customMessage:R.customMessage?g.Jv(R.customMessage):null,title:R.videoTitle?g.Jv(R.videoTitle):"",metaInfo:[R.channelName?g.Jv(R.channelName):"",R.viewCountText?g.Jv(R.viewCountText):""],isLiveNow:!!R.badge,url:O2({pause_on_navigation:!p.context.videoData.isLivePlayback,target:"new",value:$CO(R.action)}),onClickCommand:null};pD(p,x)}}}}}p.V++},Ff=function(p,x,a){for(var v=-1,c=-1,J=0;J<p.length;J++){if(p[J].height===
x||p[J].width===a)return p[J];
((p[J].height||0)<x||(p[J].width||0)<a)&&(v<0||(p[v].height||0)<(p[J].height||0)||(p[v].width||0)<(p[J].width||0))?v=J:((p[J].height||0)>=x||(p[J].width||0)>=a)&&(c<0||(p[c].height||0)>(p[J].height||0)||(p[c].width||0)>(p[J].width||0))&&(c=J)}return p[c>=0?c:v]},xF=function(p,x,a,v){return{feature:a.feature?a.feature:"cards",
src_vid:p.context.videoData.videoId,annotation_id:x,ei:p.context.videoData.eventId||"",itct:v.trackingParams||""}},Jjt=function(p,x){if(x=cjZ(p,x))x===p.U&&(p.U=null),p.W.removeCueRange(x.Qb.id),g.WY(x.E3),g.UV(p.cards,x),p.VN(),$F(p)},uj=function(p,x,a){if(!p.j){p.Ra.show();
p.tG=new g.AW(function(){g.$W(p.context.W.getRootNode(),g.j3.IV_DRAWER_OPEN)},0);
p.tG.start();p.V6.X(p.Z,"mousewheel",function(R){p.u$.start();R.preventDefault();R=R||window.event;var d=0;R.type=="MozMousePixelScroll"?d=0==(R.axis==R.HORIZONTAL_AXIS)?R.detail:0:window.opera?d=R.detail:d=R.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?R.wheelDeltaY/-30:R.wheelDeltaY/-1.2:R.wheelDelta/-1.6:R.wheelDeltaY/-3;if(R=d)p.Z.scrollTop+=R});
p.j=!0;var v=g.Yi();v&&p.F5&&p.Y&&g.Pp(v,[p.F5,p.Y]);x={TRIGGER_TYPE:x};for(var c=g.k(p.cards),J=c.next();!J.done;J=c.next())J=J.value,J.Hq||(J.Hq=!0,R_w(p.context.logger,J.Qb.wy.Tz,x)),v&&g.Pp(v,[J.Qb.FW]);To(p.W);a&&(p.S=new g.AW(function(){p.qT=p.C;p.oa.focus()},330),p.S.start())}},Vc=function(p){p.j&&(p.Ra.hide(),g.UU(p.V6),g.sm(p.context.W.getRootNode(),g.j3.IV_DRAWER_OPEN),p.j=!1,To(p.W),p.S&&p.S.stop(),p.S=new g.AW(function(){p.qT&&(p.qT.focus(),p.qT=null)},330),p.S.start())},KOQ=function(p){g.aR(p.BX(),
[g.j3.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.qh(p.W,p.B,5);p.sU();p.C=g.Kw("ytp-cards-button",p.W.getRootNode());p.oa=g.Kw("iv-drawer-close-button",p.B);p.isInitialized=!0},dCv=function(p){p.Zt.push(g.nh("iv-teaser-shown",p.Th,p));
p.Zt.push(g.nh("iv-teaser-hidden",p.yY,p));p.Zt.push(g.nh("iv-teaser-clicked",p.rf,p));p.Zp=!0},bEX=function(p,x){var a;
return x.onClickCommand&&((a=g.O(x.onClickCommand,g.y4t))==null?void 0:a.targetId)==="engagement-panel-error-corrections"?(p.pI=x,!0):!1},rjX=function(p,x){p.pI=x;
var a=p.W.getVideoData();if(!a)return!1;a=g.q_(a);if(a==null?0:a.markersMap)for(var v,c=0;((v=a)==null?void 0:v.markersMap.length)>c;c++){var J=void 0,R=(J=a)==null?void 0:J.markersMap[c];if(R.key==="ERROR_CORRECTION_MARKERS"&&(J=void 0,(R=(J=R.value)==null?void 0:J.markers)&&R.length>0))return v=void 0,x.startMs=((v=g.O(R[0],g.RnT))==null?void 0:v.timeRangeStartMillis)||0,p.pI=null,!0}return!1},pD=function(p,x){if(!bEX(p,x)||rjX(p,x)){var a=BmX(p,x);
if(a){var v={Qb:x,E3:a.element,Hq:!1};if(x.onClickCommand)p.W.D("web_infocards_teaser_show_logging_fix")&&(p.Zp||dCv(p),Jjt(p,x.id),a=p.findLastIndex(v),g.yX(p.cards,a,0,v));else{p.isInitialized||KOQ(p);Jjt(p,x.id);var c=p.findLastIndex(v);g.yX(p.cards,c,0,v);a.WO(p.Z,c);p.VN()}x.autoOpen?p.addCueRange(x.startMs,0x8000000000000,x.id,function(){p.j||(p.U=v,$F(p),liQ(p,v),uj(p,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(a=p.context.W.getCurrentTime()*1E3,a<5E3&&a>x.startMs&&LOj(p,v),p.addCueRange(x.startMs,
x.startMs+1,x.id,function(){LOj(p,v)}),$F(p))}}},BmX=function(p,x){switch(x.type){case "simple":p=p.O7;
var a=x.displayDomain?{J:"div",K:"iv-card-image-text",wr:x.displayDomain}:void 0;var v=Vr$(x);a={J:"div",CI:["iv-card"],N:[{J:"a",K:"iv-click-target",G:{href:x.url?Go(x.url)||"":""},N:[AH(x.imageUrl,a),{J:"div",K:"iv-card-content",N:[NR("h2",void 0,x.title),v]}]}]};a=new g.N(a);Pi(p,g.Jb("iv-click-target",a.element),x,x.url);x=a;break;case "collaborator":p=p.O7;a={J:"div",CI:["iv-card","iv-card-channel"],N:[{J:"a",CI:["iv-click-target"],G:{href:Go(x.url)||"","data-ytid":x.channelId},N:[AH(x.profileImageUrl),
{J:"div",K:"iv-card-content",N:[eLO(x),{J:"h2",K:"iv-card-primary-link",wr:x.title},u$R(x)]}]}]};a=new g.N(a);Pi(p,g.Jb("iv-click-target",a.element),x,x.url);x=a;break;case "playlist":p=p.O7;a={J:"div",CI:["iv-card","iv-card-playlist"],N:[{J:"a",K:"iv-click-target",G:{href:Go(x.url)||""},N:[AH(x.rZ,{J:"div",K:"iv-card-image-overlay",N:[{J:"span",K:"iv-card-playlist-video-count",wr:x.playlistVideoCount}]}),{J:"div",K:"iv-card-content",N:[eLO(x),NR("h2","iv-card-primary-link",x.title),u$R(x)]}]}]};
a=new g.N(a);Pi(p,g.Jb("iv-click-target",a.element),x,x.url);x=a;break;case "productListing":p=p.O7;var c=x.offers.length!=0;a=["iv-card"];v="";var J=Vr$(x);c&&(a.push("iv-card-product-listing"),v="iv-card-primary-link",J=x.offers[0],c=[],J.price&&c.push({J:"div",K:"iv-card-offer-price",wr:J.price}),J.merchant&&c.push({J:"div",K:"iv-card-offer-merchant",wr:J.merchant}),J={J:"div",N:c});c=x.url?Go(x.url)||"":"";a={J:"div",CI:a,G:{tabindex:"0"},N:[{J:"a",CI:["iv-card-image","iv-click-target"],G:{style:"background-image: url("+
x.imageUrl+");",href:c,"aria-hidden":"true",tabindex:"-1"}},{J:"div",K:"iv-card-content",N:[x.sponsored?{J:"div",K:"iv-card-sponsored",N:["Sponsored",{J:"div",K:"iv-ad-info-container",N:[{J:"div",K:"iv-ad-info",wr:"{{adInfo}}"},{J:"div",K:"iv-ad-info-icon-container",N:[{J:"div",K:"iv-ad-info-icon"},{J:"div",K:"iv-ad-info-callout"}]}]}]}:"",{J:"a",K:"iv-click-target",G:{href:c},N:[NR("h2",v,x.title),J]}]}]};a=new g.N(a);v=g.Lw("span");g.Dp(v,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
a.Aj(v,"adInfo");Pi(p,g.Jb("iv-click-target",a.element),x,x.url);x=a;break;case "video":p=p.O7;v=x.videoDuration?{J:"span",K:"iv-card-video-duration",wr:x.videoDuration}:void 0;J=x.isLiveNow?{J:"span",CI:["yt-badge","yt-badge-live"],wr:"LIVE NOW"}:null;c={J:"div",CI:["iv-card","iv-card-video"],N:[{J:"a",K:"iv-click-target",G:{href:((a=x.url)==null?void 0:Go(a))||""},N:[AH(x.rZ,v),{J:"div",K:"iv-card-content",N:[eLO(x),NR("h2","iv-card-primary-link",x.title),u$R(x),J]}]}]};a=new g.N(c);Pi(p,g.Jb("iv-click-target",
a.element),x,x.url);x=a;break;default:return null}return x},Ybt=function(p){if(p.U)return p.U.Qb.type==="productListing";
if(p.W.D("enable_wn_infocards")){var x;return!((x=p.cards)==null||!x.length)&&g.Mv(p.cards,function(a){return a.Qb.type==="productListing"})}return g.Mv(p.cards,function(a){return a.Qb.type==="productListing"})},$F=function(p){g.cG(p.W.getRootNode(),"ytp-cards-shopping-active",Ybt(p))},LOj=function(p,x){if(!g.xW(p.W.getRootNode(),"ytp-cards-teaser-shown")){if(p.U!==x){var a=g.Yi(),v=p.U?p.U.Qb.Ty:p.Ty;
a&&v&&g.qS(a,[v]);p.U=x;$F(p)}(a=p.isInitialized&&p.BX().style.display=="none")||(a=p.context.W.getPlayerState(),v=a===0&&p.context.W.getCurrentTime()===0,a=!(a===1||a===3||v));if(!a&&x.Qb.teaserDurationMs){var c;a={teaserText:x.Qb.teaserText,durationMs:x.Qb.teaserDurationMs,onClickCommand:x.Qb.onClickCommand,e9:(c=x.Qb.e9)!=null?c:null};p.W.EC(!0,a)}p.HO.isActive()||((!p.j||!p.u$.isActive()&&p.hG)&&liQ(p,x),p.HO.start(910+x.Qb.teaserDurationMs))}},liQ=function(p,x){p.T.E7?(x=new C7([0,
p.Z.scrollTop],[0,x.E3.offsetTop],600,keZ),p.context.j.listen(x,"animate",function(a){p.Z.scrollTop=a.y}),p.context.j.listen(x,"finish",function(a){p.Z.scrollTop=a.y}),x.play()):(p.T.eD(!0),p.Z.scrollTop=x.E3.offsetTop,p.T.eD(!1))},a9=function(p){return p.U&&p.U.Qb?p.U.Qb:p.cards[0]&&p.cards[0].Qb?p.cards[0].Qb:null},cjZ=function(p,x){return g.ME(p.cards,function(a){return a.Qb.id===x})},s1=function(p,x,a){qR.call(this,p,x);
this.annotation=a;this.isActive=!1},h_Z=function(p){var x=p.annotation.data;
"start_ms"in x&&"end_ms"in x&&p.addCueRange(Number(x.start_ms),Number(x.end_ms),p.annotation.id,function(){p.show()},function(){p.hide()})},vU=function(p,x,a){s1.call(this,p,x,a);
this.Z=null;this.V=!1;this.j=null;this.B=!1;this.U=this.S=this.C=null},j4Q=function(p,x){var a=a===void 0?0:a;
var v=B4j(x).width;g.VU(x,v);a=new MrE(x,[v,x.offsetTop],[v-v-a,x.offsetTop],200,WeX);g.Z(p,a);p.context.j.listen(a,"begin",function(){g.sO(x,!0)});
a.play()},WOw=function(p,x){if(x.channel_name){var a=p.createElement({J:"div",
CI:["iv-branding-context-name"],wr:x.channel_name}),v=p.createElement({J:"div",CI:["iv-branding-context-subscribe"]}),c=x.standalone_subscribe_button_data;c&&(p.U=new g.vO(c.subscribeText,c.subscribeCount,c.unsubscribeText,c.unsubscribeCount,!!c.enabled,!!c.classic,x.channel_id,!!c.subscribed,c.feature,x.session_data.itct,p.context.W,!1),p.U.WO(v));var J=p.createElement({J:"div",CI:["iv-branding-context-subscribe-caret"]}),R=p.createElement({J:"div",CI:["branding-context-container-inner"]});R.appendChild(J);
R.appendChild(a);R.appendChild(v);g.sO(R,!1);var d=p.createElement({J:"div",CI:["branding-context-container-outer"]});d.appendChild(R);g.Ab(d,"right",x.image_width+"px");g.jv(p.BX(),d);p.j=new g.AW(function(){Iiy(p,R,d)},500);
g.Z(p,p.j);p.context.U.listen(p.BX(),"mouseover",function(){MTZ(p,R,d,J,x.image_height)});
p.context.U.listen(p.BX(),"mouseout",function(){p.j.start()})}},MTZ=function(p,x,a,v,c){p.j.stop();
if(!p.B){var J=g.aT(x);p.U||(x.style.width=g.uP(J.width,!0),a.style.width=g.uP(J.width,!0));g.Ab(v,"top",J.height-Math.max(Math.min(J.height,c)/2+10,20)+"px");g.Ab(v,"right","1px");p.B=!0;g.sO(x,!0);p.C=new g.AW(function(){g.$W(this.BX(),"iv-branding-active")},0,p);
p.C.start()}},Iiy=function(p,x,a){g.sm(p.BX(),"iv-branding-active");
p.S=new g.AW(function(){g.sO(x,!1);p.U||(a.style.width=g.uP(0,!0))},250);
p.S.start();p.B=!1},kMw=function(p,x,a,v,c,J,R){this.U=p;
this.j=x;this.z4=a;this.videoData=v;this.logger=c;this.W=J;this.Z=R},DCO=function(p,x,a){s1.call(this,p,x,a);
var v=this;this.Y=this.isCollapsed=this.T=!1;this.S=5E3;this.Z=this.j=this.U=this.B=null;this.V=this.createElement({J:"div",CI:["iv-promo-contents"]});this.C=new g.AW(function(){v.U.setAttribute("aria-hidden","true");g.sO(v.j,!1);g.sO(v.Z,!0)},700,this);
g.Z(this,this.C)},HEX=function(p){var x=p.annotation.data;
if(p.annotation.style==="cta")var a=6;else if(p.annotation.style==="video"||p.annotation.style==="playlist")a=7;p.S=x.collapsedelay_ms||p.S;var v=["iv-promo","iv-promo-inactive"];p.BX().setAttribute("aria-hidden","true");p.BX().setAttribute("aria-label","Promotion");p.BX().tabIndex=0;var c=p.annotation.Wh(),J=x.image_url;if(J){var R=p.createElement({J:"div",CI:["iv-promo-img","iv-click-target"]});J=p.createElement({J:"img",G:{src:J,"aria-hidden":"true"}});R.appendChild(J);x.video_duration&&!x.is_live?
(J=p.createElement({J:"span",K:"iv-promo-video-duration",wr:x.video_duration}),R.appendChild(J)):x.playlist_length&&(J=p.createElement({J:"span",K:"iv-promo-playlist-length",wr:x.playlist_length.toString()}),R.appendChild(J));c&&n7(p,R,c,p.annotation.id,x.session_data,void 0,a)}c?(J=p.createElement({J:"a",K:"iv-promo-txt"}),g.bO(J,Go(c)),p.U=J):p.U=p.createElement({J:"div",K:"iv-promo-txt"});switch(p.annotation.style){case "cta":case "website":var d=p.createElement({J:"p",N:[{J:"strong",wr:x.text_line_1}]});
var b=p.createElement({J:"p",N:[{J:"span",K:"iv-promo-link",wr:x.text_line_2}]});if(J=x.text_line_3){v.push("iv-promo-website-card-cta-redesign");var r=p.createElement({J:"button",CI:["iv-promo-round-expand-icon","ytp-button"]});J=p.createElement({J:"button",CI:["iv-button","iv-promo-button"],N:[{J:"span",K:"iv-button-content",wr:J}]});var B=p.createElement({J:"div",K:"iv-promo-button-container"});B.appendChild(J);c&&n7(p,p.BX(),c,p.annotation.id,x.session_data,void 0,a)}g.$W(p.U,"iv-click-target");
c&&n7(p,p.U,c,p.annotation.id,x.session_data,void 0,a);break;case "playlist":case "video":d=p.createElement({J:"p",N:[{J:"span",wr:x.text_line_1}]}),b=p.createElement({J:"p",N:[{J:"strong",wr:x.text_line_2}]}),x.is_live&&(d=b,b=p.createElement({J:"span",CI:["yt-badge","iv-promo-badge-live"],wr:"LIVE NOW"})),g.$W(p.U,"iv-click-target"),c&&n7(p,p.U,c,p.annotation.id,x.session_data,void 0,a),v.push("iv-promo-video")}d&&p.U.appendChild(d);b&&p.U.appendChild(b);p.V.appendChild(p.U);B&&p.V.appendChild(B);
a=p.createElement({J:"div",K:"iv-promo-actions"});p.Z=p.createElement({J:"button",CI:["iv-promo-expand","ytp-button"]});p.Z.title="Expand";p.context.U.listen(p.Z,"click",function(l){UCG(p,5E3,l)});
a.appendChild(p.Z);g.sO(p.Z,!1);p.context.U.listen(p.BX(),"mouseover",p.v8,p);p.context.U.listen(p.BX(),"mouseout",p.R6,p);p.context.U.listen(p.BX(),"touchend",function(l){UCG(p,5E3,l)});
p.j=p.createElement({J:"button",CI:["iv-promo-close","ytp-button"]});p.j.title="Close";p.context.U.listen(p.j,"click",p.annotation.style==="cta"&&x.text_line_3?p.Yx:p.Xv,p);a.appendChild(p.j);g.aR(p.BX(),v);R&&(g.jv(p.BX(),R),r&&R.appendChild(r));g.jv(p.BX(),p.V);g.jv(p.BX(),a)},UCG=function(p,x,a){a.stopPropagation();
TmR(p);Q4R(p,x);p.U.focus()},mCE=function(p){p.isCollapsed||p.Y||p.B||(g.$W(p.BX(),"iv-promo-collapsed"),p.isCollapsed=!0,p.C.start())},TmR=function(p){p.C.stop();
p.isCollapsed&&(g.vG(p.BX(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),p.isCollapsed=!1,p.U&&p.U.removeAttribute("aria-hidden"),g.sO(p.Z,!1),g.sO(p.j,!0))},Q4R=function(p,x){p.B||(p.B=g.wA(function(){SbX(this);
mCE(this)},x,p))},SbX=function(p){p.B&&(g.Fg.clearTimeout(p.B),p.B=null)},fiZ=function(p){this.W=p},R_w=function(p,x,a){x&&(a?cU(p,x.map(function(v){return g.Qz(v,a)})):cU(p,x))},cU=function(p,x,a,v){var c=1,J=void 0,R=-1;
if(a){var d=!1;J=function(){c--;c||d||(clearTimeout(R),d=!0,a())};
R=setTimeout(function(){d=!0;a()},1E3)}x=g.k(x||[]);
for(var b=x.next();!b.done;b=x.next())b=b.value,c++,g.fh(b,J);v&&(c++,v!==0&&p.W.sendVideoStatsEngageEvent(v,J))},Cwj=function(p){g.Tf.call(this,p);
var x=this;this.Zt=this.Y=!1;this.loadNumber=0;this.S={};this.logger=new fiZ(this.player);this.B=new g.II(this);this.C=this.V=null;this.events=new g.II(this);this.c5=this.T=this.U=null;this.pI=[];g.Z(this,this.B);this.B.X(this.player,"onVideoAreaChange",function(){x.publish("onVideoAreaChange")});
this.B.X(this.player,"onHideControls",function(){x.publish("onHideControls")});
this.B.X(this.player,"onShowControls",function(){x.publish("onShowControls")});
this.B.X(this.player,"resize",function(v){x.publish("resize",v)});
this.B.X(this.player,"presentingplayerstatechange",function(v){x.publish("presentingplayerstatechange",v)});
this.subscribe("presentingplayerstatechange",this.yB,this);this.subscribe("resize",this.DQ,this);this.player.L().hG.subscribe("vast_info_card_add",this.Ig,this);g.Z(this,this.events);this.O7=this.createElement({J:"div",K:"video-custom-annotations"});this.Z=new g.N({J:"div",CI:["ytp-player-content","ytp-iv-player-content"]});g.Z(this,this.Z);g.qh(this.player,this.Z.element,4);this.Z.hide();this.j=new g.N({J:"div",CI:["ytp-iv-video-content"]});g.Z(this,this.j);p=this.createElement({J:"div",K:"video-annotations"});
p.appendChild(this.O7);this.j.element.appendChild(p);this.Gc()&&this.load();var a=this.createElement({J:"style"});(g.cY("HEAD")[0]||document.body).appendChild(a);this.addOnDisposeCallback(function(){g.WY(a)});
if(p=a.sheet)p.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),p.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),p.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),p.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),p.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),p.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),p.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),p.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),p.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),p.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},XMO=function(p){p=p.createElement({J:"div",
CI:["annotation","annotation-type-custom"]});g.sO(p,!1);return p},iEv=function(p,x){x=!x.isCued()&&!g.q(x,1024);
p.Z.eD(x);p.j.eD(x)},oDy=function(p,x,a){p.Y=!0;
p.C=g.Mk(x,a)},tTV=function(p,x){for(var a={},v=g.k(x.attributes),c=v.next();!c.done;c=v.next())c=c.value,a[c.name]=c.nodeValue;
for(v=0;v<x.childNodes.length;v++)if(c=x.childNodes[v],g.cQ(c)&&c.nodeType==1){if(a[c.tagName])var J=a[c.tagName];else if(c.tagName==="data"){c.childNodes.length>0&&(J=c.childNodes[0].nodeValue,a[c.tagName]=typeof J==="string"?J.trim():J);continue}else J=[],a[c.tagName]=J;c&&c.tagName==="TEXT"?c.childNodes.length===1&&c.childNodes[0].nodeType===3?J.push(c.childNodes[0].nodeValue):J.push(""):c&&J.push(tTV(p,c))}return a},yjX=function(p){var x=p.player.getVideoData();
if(x.V6){var a=p.player.L().hG.get(x.videoId);if(a){var v={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(c,J,R){c=p.loadNumber;J=x.videoId;p.loaded&&p.loadNumber===c&&p.player.getVideoData().videoId===J&&(R=g.Ky(R)&&R.responseXML?R.responseXML:null)&&z_G(p,R)}};
g.nP()&&(v.onFinish=wM$(p,v.onFinish));v.postParams={ic_only:"1"};EDX(v,a);p.Y=!0;g.Mk(x.V6,v)}}},EDX=function(p,x){p.method="POST";
p.postParams=p.postParams||{};x.Yp&&(p.postParams.ic_coll=x.Yp);x.kZ&&(p.postParams.ic_xml=x.kZ);x.Ca&&(p.postParams.ic_track=x.Ca)},gDZ=function(p){var x=new g.N({J:"div"});
g.sO(x.element,!1);var a=new aiw(p.player,x.element,Jn(p));g.Z(a,x);x.WO(p.Z.element);a.tL();return a},GMG=function(p,x){var a,v;
if(x=(a=x.getWatchNextResponse())==null?void 0:(v=a.cards)==null?void 0:v.cardCollectionRenderer)p.Zt=!0,ZEX(p,x),x.headerText&&p.c5&&(a=g.Jv(x.headerText),p.player.D("player_tooltip_data_title_killswitch")?p.c5.setAttribute("title",a):p.c5.setAttribute("data-tooltip-title",a))},Jn=function(p){if(!p.T){var x=new Dx$(p);
g.Z(p,x);var a=new g.LO(p);g.Z(p,a);p.T=new kMw(x,a,p.player.L(),p.player.getVideoData(),p.logger,p.player,p.JR)}return p.T},z_G=function(p,x){var a=!1,v=x.getElementsByTagName("annotations");
if(v&&!(v.length<1)&&(v=v[0].getAttribute("itct"))){var c=g.Yi();if(c){var J=g.Lr();J&&g.Pr(g.z4)(void 0,c,J,[g.Bp(v)])}}x=x.getElementsByTagName("annotation");for(v=0;v<x.length;v++){J=tTV(p,x[v]);c=null;try{if(J){var R=J.id,d=/.+/;var b=typeof R==="string"&&d!=null&&R!=null&&R.match(d)?R:"";var r=ZR(J.type,OER),B=ZR(J.style,NmG),l=y7O(J.data),L=l.length!==0?JSON.parse(l):{};var Y=J.action;J=A7Z;if(Y==null)var h=null;else if(g.vQ(Y)){d=[];for(var D=g.k(Y),H=D.next();!H.done;H=D.next()){var f=J(H.value);
f&&d.push(f)}h=d}else{var m=J(Y);h=m?[m]:[]}c=b&&r?new P3X(b,r,B,h,L):null}else c=null}catch(co){}if(c)if(c.type==="branding"||c.type==="promotion"){J=p;d=c;var X=XMO(J),E=null;switch(d.type){case "branding":if(J.player.L().aA)break;J.player.D("web_player_overlay_positioned_layout")?(X.setAttribute("data-overlay-order","11"),J.player.AR(X,4,!0)):J.Z.element.appendChild(X);E=new vU(X,Jn(J),d);break;case "promotion":g.qh(J.player,X,4),E=new DCO(X,Jn(J),d)}E&&E.tL();if(J=E)g.Z(p,J),p.S[c.id]=J}else if(c.type===
"card"||c.type==="drawer"){p.U||(p.U=gDZ(p),g.Z(p,p.U));if(c.type==="card"){X=p.U;var A=(a=c)&&a.data&&a.data.card_type;c=a.data;if(A)switch(J=c.tracking||{},J={Tz:J.impression,click:J.click,close:J.close,d5:J.teaser_impression,zS:J.teaser_click},d=c.tracking_params||{},E=null,A){case "collaborator":a={id:a.id,timestamp:c.timestamp||0,type:c.card_type,teaserText:c.teaser_text,teaserDurationMs:c.teaser_duration_ms,startMs:c.start_ms,autoOpen:c.auto_open||!1,sessionData:c.session_data||{},sponsored:c.sponsored||
!1,wy:J,FW:d.card?g.Bp(d.card):null,gy:d.teaser?g.Bp(d.teaser):null,Ty:d.icon?g.Bp(d.icon):null,channelId:c.channel_id,customMessage:c.custom_message?c.custom_message:null,profileImageUrl:c.image_url,title:c.title,metaInfo:c.meta_info,url:O2({pause_on_navigation:c.pause_on_navigation,target:c.target||"new",value:c.url}),onClickCommand:null};pD(X,a);break;case "playlist":a={id:a.id,timestamp:c.timestamp||0,type:c.card_type,teaserText:c.teaser_text,teaserDurationMs:c.teaser_duration_ms,startMs:c.start_ms,
autoOpen:c.auto_open||!1,sessionData:c.session_data||{},sponsored:c.sponsored||!1,wy:J,FW:d.card?g.Bp(d.card):null,gy:d.teaser?g.Bp(d.teaser):null,Ty:d.icon?g.Bp(d.icon):null,rZ:c.image_url,playlistVideoCount:c.playlist_video_count,customMessage:c.custom_message?c.custom_message:null,title:c.title,metaInfo:c.meta_info,url:O2({pause_on_navigation:c.pause_on_navigation,target:c.target||"new",value:c.url}),onClickCommand:null};pD(X,a);break;case "productListing":c.signin_url&&(E=O2({target:"current",
value:c.signin_url}));A=[];for(var u=c.offers||[],n=0;n<u.length;n++)A.push(new FeZ(g.Xw(u[n].merchant),g.Xw(u[n].price)));a={id:a.id,timestamp:c.timestamp||0,type:c.card_type,teaserText:c.teaser_text,teaserDurationMs:c.teaser_duration_ms,startMs:c.start_ms,autoOpen:c.auto_open||!1,sessionData:c.session_data||{},sponsored:c.sponsored||!1,wy:J,FW:d.card?g.Bp(d.card):null,gy:d.teaser?g.Bp(d.teaser):null,Ty:d.icon?g.Bp(d.icon):null,imageUrl:c.image_url,displayDomain:c.display_domain?c.display_domain:
null,showLinkIcon:!!c.show_link_icon,dX:c.button_icon_url?c.button_icon_url:null,title:c.title,customMessage:c.custom_message?c.custom_message:null,url:O2({pause_on_navigation:c.pause_on_navigation,target:c.target||"new",value:c.url}),IV7:E,JY4:c.signin_title?c.signin_title:void 0,BpI:c.signin_message?c.signin_message:void 0,offers:A,onClickCommand:null};pD(X,a);break;case "simple":a={id:a.id,timestamp:c.timestamp||0,type:c.card_type,teaserText:c.teaser_text,teaserDurationMs:c.teaser_duration_ms,
startMs:c.start_ms,autoOpen:c.auto_open||!1,sessionData:c.session_data||{},sponsored:c.sponsored||!1,wy:J,FW:d.card?g.Bp(d.card):null,gy:d.teaser?g.Bp(d.teaser):null,Ty:d.icon?g.Bp(d.icon):null,imageUrl:c.image_url,displayDomain:c.display_domain?c.display_domain:null,showLinkIcon:!!c.show_link_icon,dX:c.button_icon_url?c.button_icon_url:null,title:c.title,customMessage:c.custom_message?c.custom_message:null,url:O2({pause_on_navigation:c.pause_on_navigation,target:c.target||"new",value:c.url}),onClickCommand:null};
pD(X,a);break;case "video":a={id:a.id,timestamp:c.timestamp||0,type:c.card_type,teaserText:c.teaser_text,teaserDurationMs:c.teaser_duration_ms,startMs:c.start_ms,autoOpen:c.auto_open||!1,sessionData:c.session_data||{},sponsored:c.sponsored||!1,wy:J,FW:d.card?g.Bp(d.card):null,gy:d.teaser?g.Bp(d.teaser):null,Ty:d.icon?g.Bp(d.icon):null,rZ:c.image_url,videoDuration:c.video_duration||null,customMessage:c.custom_message?c.custom_message:null,title:c.title,metaInfo:c.meta_info,isLiveNow:!!c.is_live_now,
url:O2({pause_on_navigation:c.pause_on_navigation,target:c.target||"new",value:c.url}),onClickCommand:null},pD(X,a)}}else s4G(p.U,c);a=!0}}a&&(To(p.player),p.DQ())},ZEX=function(p,x){var a=!1;
p.U||(p.U=gDZ(p),g.Z(p,p.U));for(var v=g.k(x.cards||[]),c=v.next();!c.done;c=v.next())c=c.value,c.cardRenderer&&(vDX(p.U,c.cardRenderer),a=!0);if(a){var J;(J=p.player.getVideoData())!=null&&g.uq(J)||(a=p.U,v=x.headerText?g.Jv(x.headerText):"",g.Dp(a.US,v),a.C&&(a.W.D("player_tooltip_data_title_killswitch")?a.C.setAttribute("title",v):a.C.setAttribute("data-tooltip-title",v)),a.context.videoData.eventId&&(a.eventId=a.context.videoData.eventId),a.F5=x.trackingParams?g.Bp(x.trackingParams):null,a.Y=
x.closeButton.infoCardIconRenderer.trackingParams?g.Bp(x.closeButton.infoCardIconRenderer.trackingParams):null,a.Ty=x.icon.infoCardIconRenderer.trackingParams?g.Bp(x.icon.infoCardIconRenderer.trackingParams):null,p.DQ());To(p.player)}},Ajw=function(p,x,a,v,c){if(!p.player.L().aA){var J=[];
x.navigationEndpoint&&g.O(x.navigationEndpoint,g.Og)&&g.O(x.navigationEndpoint,g.Og).browseId&&J.push(new Get("openUrl","click",new ggX("/channel/"+g.O(x.navigationEndpoint,g.Og).browseId,"new",!0,!0)));var R=x.watermark.thumbnails[0];v={channel_name:x.channelName,end_ms:x.endTimeMs,image_height:R.height,image_type:1,image_url:R.url,image_width:R.width,is_mobile:!1,session_data:{annotation_id:a,ei:c,feature:"iv",itct:x.trackingParams,src_vid:v},start_ms:x.startTimeMs};if(x.subscribeButton&&g.O(x.subscribeButton,
g.Nn)){v.channel_id=g.O(x.subscribeButton,g.Nn).channelId;var d;x=g.O(x.subscribeButton,g.Nn);R=c=null;x.subscribed?(x.subscriberCountWithUnsubscribeText&&(c=g.Jv(x.subscriberCountWithUnsubscribeText)),x.subscriberCountText&&(R=g.Jv(x.subscriberCountText))):(x.subscriberCountText&&(c=g.Jv(x.subscriberCountText)),x.subscriberCountWithSubscribeText&&(R=g.Jv(x.subscriberCountWithSubscribeText)));var b,r=((b=g.O((d=x.signInEndpoint)==null?void 0:d.commandMetadata,g.W7))==null?void 0:b.url)||"";d={subscribeText:g.Jv(x.unsubscribedButtonText),
subscribeCount:c||"",unsubscribeText:g.Jv(x.subscribedButtonText),unsubscribeCount:R||"",enabled:x.enabled||!1,classic:!1,subscribed:x.subscribed||!1,feature:"iv",signInUrl:r};v.standalone_subscribe_button_data=d}J=new P3X(a,"branding","branding",J,v);d=XMO(p);p.player.D("web_player_overlay_positioned_layout")?(d.setAttribute("data-overlay-order","11"),p.player.AR(d,4,!0)):p.Z.element.appendChild(d);J=new vU(d,Jn(p),J);J.tL();g.Z(J,J);p.S[a]=J}},wM$=function(p,x){return function(){var a=g.g_.apply(0,
arguments);
p.b$()||p.pI.push(g.zp.vN(function(){x.apply(null,g.lf(a))}))}},PwZ=function(p){return p==="annotation-editor"||p==="live-dashboard"};
g.yy.prototype.EC=g.sQ(39,function(p,x){var a=g.Eu(this.uV());a&&a.EC(p,x)});
var mX={},SE=null;g.LG(C7,g.Ju);g.I=C7.prototype;g.I.getDuration=function(){return this.duration};
g.I.play=function(p){if(p||this.U==0)this.progress=0,this.coords=this.Z;else if(this.isPlaying())return!1;f7(this);this.startTime=p=g.BQ();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.B=this.startTime;this.progress||this.Pu();this.Bv("play");this.isPaused()&&this.Bv("resume");this.U=1;var x=g.Rv(this);x in mX||(mX[x]=this);YCV();hLQ(this,p);return!0};
g.I.stop=function(p){f7(this);this.U=0;p&&(this.progress=1);jpO(this,this.progress);this.onStop();this.Ae()};
g.I.pause=function(){this.isPlaying()&&(f7(this),this.U=-1,this.Bv("pause"))};
g.I.PO=function(){this.U==0||this.stop(!1);this.Bv("destroy");C7.dk.PO.call(this)};
g.I.destroy=function(){this.dispose()};
g.I.Yf=function(){this.Bv("animate")};
g.I.Bv=function(p){this.dispatchEvent(new IYO(p,this))};
g.LG(IYO,g.PL);g.LG(Xf,C7);Xf.prototype.j=function(){};
Xf.prototype.Yf=function(){this.j();Xf.dk.Yf.call(this)};
Xf.prototype.Ae=function(){this.j();Xf.dk.Ae.call(this)};
Xf.prototype.Pu=function(){this.j();Xf.dk.Pu.call(this)};
g.LG(MrE,Xf);MrE.prototype.j=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.M(Dx$,g.y);g.I=Dx$.prototype;g.I.listen=function(p,x,a,v){a=(0,g.dR)(a,v||this.Z);p=g.hX(p,x,a);this.U.push(p);return p};
g.I.eG=function(p,x,a,v){a=(0,g.dR)(a,v||this.Z);p=lYO(p,x,a);this.U.push(p);return p};
g.I.IA=function(p){g.jh(p);g.UV(this.U,p)};
g.I.removeAll=function(){g.jh(this.U);this.U.length=0};
g.I.PO=function(){this.removeAll();g.y.prototype.PO.call(this)};g.M(T4t,g.Tf);g.I=T4t.prototype;g.I.load=function(){g.Tf.prototype.load.call(this);if(!tH(this)){var p=g.NLU(this.player.getVideoData());p?(p=H4G(p,Qpj(this)),zo(this,p,!1)):mxX(this)}};
g.I.unload=function(){zo(this,null);this.B&&(this.B.abort(),this.B=null);g.Tf.prototype.unload.call(this)};
g.I.EN=function(p,x){return tH(this)?p==="loadCustomEndscreenRenderer"?(p=H4G(x,"new"),zo(this,p),!0):null:null};
g.I.getOptions=function(){return tH(this)?["loadCustomEndscreenRenderer"]:[]};
g.I.LW=function(){if(this.endscreen&&this.endscreen.elements){var p=this.player.getVideoContentRect();if(p&&p.width!==0&&p.height!==0){var x=this.player.getPlayerSize();if(x&&x.width!==0&&x.height!==0){var a=p.width/p.height;var v=0;for(var c=-1,J=0;J<qbv.length;J++){var R=Math.abs(x.width-qbv[J]);if(c===-1||v>=R)c=J,v=R}v=nDX[c];this.j&&g.Ab(this.j.element,"outline-width",Math.max(x.width,x.height)+"px");for(x=0;x<this.endscreen.elements.length;++x)if(J=this.endscreen.elements[x].id,c=this.Z[J],
R=this.S[J],c&&R){var d=R.width*a/R.aspectRatio,b=Math.round(R.width*p.width);J=Math.round(d*p.height);var r=p.left+Math.round(R.left*p.width),B=p.top+Math.round(R.top*p.height);g.$G(c.element,b,J);g.VU(c.element,r,B);g.vG(c.element,e_V);b>256||J>256?g.$W(c.element,"ytp-ce-large-round"):b>96||J>96?g.$W(c.element,"ytp-ce-medium-round"):g.$W(c.element,"ytp-ce-small-round");g.vG(c.element,uuy);b=R.left+R.width/2;R=R.top+d/2;g.$W(c.element,b<=.5&&R<=.5?"ytp-ce-top-left-quad":b>.5&&R<=.5?"ytp-ce-top-right-quad":
b<=.5&&R>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.vG(c.element,nDX);g.$W(c.element,v);(c=g.Rt(document,"div","ytp-ce-expanding-overlay-body",c.element)[0])&&g.Ab(c,"height",J+"px")}}}}};
g.I.onCueRangeEnter=function(p){if(this.endscreen)if(p.getId()==="ytp-ce-in-endscreen")gE(this,this.endscreen.impressionUrls),(p=g.Yi())&&this.endscreen.visualElement&&g.Aq(p,this.endscreen.visualElement),this.U&&(g.$W(this.U,"ytp-ce-element-show"),this.U.removeAttribute("aria-hidden"),this.player.kD()?g.$W(this.U,"ytp-ce-hide-button-lower"):g.sm(this.U,"ytp-ce-hide-button-lower"));else{p=p.getId().substring(15);var x=this.Z[p],a=this.S[p];g.$W(x.element,"ytp-ce-element-show");x.element.removeAttribute("aria-hidden");
x=this.player.getRootNode();g.$W(x,"ytp-ce-shown");gE(this,a.impressionUrls);(x=g.Yi())&&g.Aq(x,a.visualElement);this.player.L().Y&&this.player.NT("endscreenelementshown",p)}};
g.I.onCueRangeExit=function(p){if(p.getId()==="ytp-ce-in-endscreen")this.U&&(g.sm(this.U,"ytp-ce-element-show"),this.U.setAttribute("aria-hidden","true"));else{p=p.getId().substring(15);var x=this.Z[p];g.sm(x.element,"ytp-ce-element-show");x.element.setAttribute("aria-hidden","true");x=this.player.getRootNode();g.sm(x,"ytp-ce-shown");this.player.L().Y&&this.player.NT("endscreenelementhidden",p)}};
g.I.q8a=function(p){var x=this;p.target===window&&(new g.AW(function(){for(var a=g.k(Object.values(x.Z)),v=a.next();!v.done;v=a.next())g.vG(v.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.I.eD=function(p){for(var x=g.k(Object.values(this.Z)),a=x.next();!a.done;a=x.next())a=a.value,p?a.element.setAttribute("hidden",""):a.element.removeAttribute("hidden")};
g.I.eCA=function(p){this.U&&this.player.getRootNode().removeChild(this.U);p&&(g.$W(p,"ytp-ce-hide-button-container"),this.U=p,g.qh(this.player,this.U,4))};
var qbv=[346,426,470,506,570,640,853,1280,1920],nDX="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),uuy=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],e_V=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var Z4Z={w$4:"current",A36:"new"};var O4v={CLOSE:"close",eMr:"openUrl",SUBSCRIBE:"subscribe"},N4O={NMA:"click",CLOSE:"close",sm$:"hidden",xh4:"rollOut",QV5:"rollOver",eXO:"shown"};P3X.prototype.Wh=function(){var p=qCR(this,function(x){return x.type==="openUrl"&&x.url!=null});
return p?p.url:null};
var NmG={ThG:"anchored",nP:"branding",CHANNEL:"channel",jM5:"cta",Jc4:"highlightText",oCg:"label",PLAYLIST:"playlist",POPUP:"popup",kc5:"speech",SUBSCRIBE:"subscribe",Jnd:"title",VIDEO:"video",TK7:"website"},OER={nP:"branding",YTA:"card",hBd:"drawer",Bwa:"highlight",Wx5:"marker",Ihd:"promotion",TEXT:"text",ndr:"widget"};g.M(qR,g.y);g.I=qR.prototype;g.I.addCueRange=function(p,x,a,v,c){p=new g.gZ(p,x,{id:a,namespace:"annotations_module"});v&&this.gr.set(p,v);c&&this.LI.set(p,c);this.context.W.xN([p],1)};
g.I.tL=function(){this.context.Z.subscribe("resize",this.VN,this)};
g.I.BX=function(){return this.element};
g.I.xf=function(p,x,a,v,c,J){if(this.T4)return!1;J&&(J.stopPropagation(),J.preventDefault());this.navigate(p,a,v,c);return!1};
g.I.show=function(){};
g.I.hide=function(){};
g.I.destroy=function(){g.WY(this.BX())};
g.I.VN=function(){};
g.I.navigate=function(p,x,a,v){var c=this,J=Go(p);if(J){var R=xCZ(J,p.target),d=function(){p.U&&c.context.W.pauseVideo();var b=c.context.videoData.fp||!1,r=g.Fj(J||"");b&&r&&(r.v||r.list)?c.context.W.Nh(r.v,x,r.list,!1):g.zN(J||"",R==="current"?"_top":void 0,x)};
R==="new"&&(d(),d=null);cU(this.context.logger,a,d,v);pMZ(J)||(a=g.Yi(),v=x.itct,a&&v&&g.nr(a,g.Bp(v)))}};
g.I.PO=function(){this.gr.clear();this.LI.clear();g.y.prototype.PO.call(this)};
g.I.createElement=function(p){p=new g.N(p);g.Z(this,p);return p.element};g.M(aiw,qR);g.I=aiw.prototype;g.I.WM=function(){this.pI&&pD(this,this.pI)};
g.I.isAvailable=function(){var p;if(p=!!this.cards.length)(p=this.W.getRootNode())?(p=g.aT(p),p=173<p.width&&173<p.height):p=!1;return p};
g.I.VN=function(){var p=this.isAvailable();g.sO(this.BX(),p);g.cG(this.context.W.getRootNode(),g.j3.IV_DRAWER_ENABLED,p);To(this.W)};
g.I.destroy=function(){this.W.EC(!1);try{this.W.getRootNode().removeChild(this.B)}catch(p){}g.e6(this.Zt);g.UU(this.V6);this.tG&&this.tG.dispose();this.S&&this.S.dispose();qR.prototype.destroy.call(this)};
g.I.sU=function(){var p=this;this.context.U.listen(g.Kw("iv-drawer-close-button",this.B),"click",this.V$,this);this.context.U.listen(this.Z,"touchend",function(){p.u$.start()});
this.context.U.listen(this.Z,"scroll",this.oF,this);this.context.Z.subscribe("onHideControls",function(){p.hG=!0});
this.context.Z.subscribe("onShowControls",function(){p.hG=!1});
this.context.Z.subscribe("onVideoAreaChange",function(){p.hG=g.xW(p.W.getRootNode(),"ytp-autohide")});
this.Zt.push(g.nh("iv-button-shown",this.TL,this));this.Zt.push(g.nh("iv-button-hidden",this.rC,this));dCv(this)};
g.I.findLastIndex=function(p){if(this.cards.length===0)return 0;var x=g.WQ(this.cards,function(a){return p.Qb.startMs>a.Qb.startMs||p.Qb.startMs===a.Qb.startMs&&p.Qb.timestamp>=a.Qb.timestamp?!0:!1});
return x===-1?0:x+1};
g.I.V$=function(){if(this.j){cU(this.context.logger,a9(this).wy.close);var p=g.Yi();p&&this.Y&&g.nr(p,this.Y);Vc(this)}};
g.I.oF=function(){g.cG(this.B,"iv-drawer-scrolled",this.Z.scrollTop>0)};
g.I.TL=function(){var p=g.Yi(),x=a9(this);x=x?x.Ty:this.Ty;p&&x&&g.Pp(p,[x])};
g.I.rC=function(){var p=g.Yi(),x=a9(this);x=x?x.Ty:this.Ty;p&&x&&g.qS(p,[x])};
g.I.Th=function(){var p=a9(this);cU(this.context.logger,p.wy.d5);var x=g.Yi();if(x&&p)if(this.W.D("web_infocards_teaser_show_logging_fix")){var a=[];p.gy&&a.push(p.gy);p.Ty&&a.push(p.Ty);a.length>0&&g.Pp(x,a)}else g.Pp(x,[p.gy,p.Ty])};
g.I.yY=function(){var p=g.Yi(),x=a9(this);p&&x&&g.qS(p,[x.gy])};
g.I.rf=function(p){var x=a9(this),a=g.Yi();this.U?p?(p=this.context.logger,cU(p,x.wy.zS),p.W.sendVideoStatsEngageEvent(4,void 0),a&&x.gy&&g.nr(a,x.gy)):(p=this.context.logger,cU(p,x.wy.zS),p.W.sendVideoStatsEngageEvent(4,void 0),a&&x.Ty&&g.nr(a,x.Ty)):(p=this.context.logger,cU(p,x.wy.zS),p.W.sendVideoStatsEngageEvent(4,void 0),a&&this.Ty&&g.nr(a,this.Ty))};g.M(s1,qR);s1.prototype.tL=function(){qR.prototype.tL.call(this);h_Z(this)};
s1.prototype.show=function(){qR.prototype.show.call(this);var p=g.Yi(),x=this.annotation.data;p&&x&&(x=x.session_data)&&g.Pp(p,[g.Bp(x.itct)])};
s1.prototype.hide=function(){qR.prototype.hide.call(this);var p=g.Yi(),x=this.annotation.data;p&&x&&(x=x.session_data)&&g.qS(p,[g.Bp(x.itct)])};g.M(vU,s1);
vU.prototype.show=function(){if(!this.isActive){s1.prototype.show.call(this);if(!this.V){g.$W(this.BX(),"iv-branding");var p=this.annotation.data;this.Z=this.createElement({J:"img",CI:["branding-img","iv-click-target"],G:{"aria-label":"Channel watermark",src:p.image_url,width:p.image_width,height:p.image_height}});g.sO(this.Z,!1);var x=this.createElement({J:"button",CI:["branding-img-container","ytp-button"]});x.appendChild(this.Z);this.BX().appendChild(x);var a=this.annotation.Wh();a&&n7(this,x,
a,this.annotation.id,p.session_data);this.context.W.D("disable_branding_context")||WOw(this,p);this.V=!0}g.sO(this.BX(),!0);this.isActive=!0;if(this.Z){try{j4Q(this,this.Z)}catch(v){}g.$W(this.context.W.getRootNode(),"ytp-branding-shown");this.context.W.getRootNode().style.setProperty("--branding-image-width",this.Z.getAttribute("width")+"px")}}};
vU.prototype.hide=function(){this.isActive&&(s1.prototype.hide.call(this),g.sO(this.BX(),!1),this.isActive=!1,g.sm(this.context.W.getRootNode(),"ytp-branding-shown"))};
vU.prototype.destroy=function(){this.U&&(this.U.dispose(),this.U=null);g.sm(this.context.W.getRootNode(),"ytp-branding-shown");s1.prototype.destroy.call(this)};g.M(DCO,s1);g.I=DCO.prototype;g.I.show=function(){this.isActive||(s1.prototype.show.call(this),this.T||(HEX(this),this.T=!0),g.sO(this.BX(),!0),g.wA(function(){g.sm(this.BX(),"iv-promo-inactive")},100,this),this.BX().removeAttribute("aria-hidden"),this.isActive=!0,SbX(this),TmR(this),Q4R(this,this.S))};
g.I.hide=function(){this.isActive&&(g.$W(this.BX(),"iv-promo-inactive"),this.isActive=!1,this.BX().setAttribute("aria-hidden","true"))};
g.I.xf=function(p,x,a,v,c,J){return this.isCollapsed?!1:s1.prototype.xf.call(this,p,x,a,v,c,J)};
g.I.v8=function(p){this.Y=!0;UCG(this,500,p)};
g.I.R6=function(){this.Y=!1;mCE(this)};
g.I.Xv=function(p){p.stopPropagation();this.hide()};
g.I.Yx=function(p){p.stopPropagation();SbX(this);this.isCollapsed=!0;g.$W(this.BX(),"iv-promo-collapsed-no-delay");this.C.start()};
g.I.destroy=function(){this.C.dispose();s1.prototype.destroy.call(this)};g.M(Cwj,g.Tf);g.I=Cwj.prototype;g.I.EN=function(p,x){if(!PwZ(this.player.L().playerStyle))return null;switch(p){case "loadCustomAnnotationsXml":return(p=g.ep(x))&&z_G(this,p),!0;case "removeCustomAnnotationById":return x&&this.U&&(Jjt(this.U,x),To(this.player)),!0}return null};
g.I.getOptions=function(){return PwZ(this.player.L().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.I.Gc=function(){var p=this.player.L(),x=this.player.getVideoData(),a=p.annotationsLoadPolicy||x.annotationsLoadPolicy;return x.fp||this.player.isMutedByEmbedsMutedAutoplay()?!1:a===1&&!x.FU||p.hG.get(x.videoId)||g.VF(x)||g.Fz(x)?!0:!1};
g.I.DQ=function(){if(this.j){var p=this.player.fI().getVideoContentRect(!0);g.$G(this.j.element,p.width,p.height);g.VU(this.j.element,p.left,p.top)}if(this.U){var x=this.player.uh();p=this.U;x=x.width;g.cG(p.B,"iv-drawer-small",x<=426);g.cG(p.B,"iv-drawer-big",x>=1280)}};
g.I.yB=function(p){iEv(this,p.state);g.q(p.state,2)&&(this.kD()&&this.Ju()&&this.player.getPresentingPlayerType()!==2&&this.d8(!1),this.EC(!1))};
g.I.load=function(){function p(R){var d=x.loadNumber;x.C=null;x.loaded&&x.loadNumber===d&&x.player.getVideoData().videoId===v&&(R=g.Ky(R)&&R.responseXML?R.responseXML:null)&&(z_G(x,R),g.$W(x.player.getRootNode(),"iv-module-loaded"))}
var x=this;g.Tf.prototype.load.call(this);iEv(this,this.player.getPlayerStateObject());this.loadNumber++;var a=this.player.getVideoData(),v=a.videoId;g.nP()&&(p=wM$(this,p));var c={format:"XML",onFinish:p,onError:function(){x.C=null},
urlParams:{}};a.isPharma&&(c.urlParams.pharma="1");c.method="POST";c.withCredentials=!0;var J=this.player.L().hG.get(v);J&&EDX(c,J);J=J&&(J.kZ||J.Yp);if(!a.Lq||J)a.V6?oDy(this,a.V6,c):(this.V=function(){if(!x.Y)x.onVideoDataChange(c);var R=x.player.getVideoData();(R==null?0:g.uq(R))&&!x.Zt&&GMG(x,R)},this.player.addEventListener("videodatachange",this.V));
g.qh(this.player,this.j.element,4);this.DQ();(J=g.VF(a))&&ZEX(this,J);(J=g.Fz(a))&&J.featuredChannel&&Ajw(this,J.featuredChannel,J.annotationId||"branding",a.videoId||null,a.eventId||null);this.c5=g.Kw("ytp-cards-button",this.player.getRootNode());g.uq(a)&&GMG(this,a)};
g.I.onVideoDataChange=function(p){var x=this.player.getVideoData();x.V6&&oDy(this,x.V6,p)};
g.I.unload=function(){this.player.Mg("annotations_module");for(var p=g.k(Object.keys(this.S)),x=p.next();!x.done;x=p.next())this.S[x.value].destroy();this.T=null;this.U&&(this.U.destroy(),this.U=null,To(this.player));this.Y=!1;this.C&&(this.C.abort(),this.C=null);this.Zt=!1;this.S={};this.Z.hide();g.Tf.prototype.unload.call(this);this.j.detach();this.V&&(this.player.removeEventListener("videodatachange",this.V),this.V=null)};
g.I.Ig=function(p){p===this.player.getVideoData().videoId&&(this.loaded?yjX(this):this.load())};
g.I.kD=function(){var p;return((p=this.U)==null?void 0:p.isAvailable())||this.Zt};
g.I.Ju=function(){return!!this.U&&this.U.j};
g.I.d8=function(p,x,a){x=x===void 0?!1:x;this.kD();this.U&&(p?a?uj(this.U,a,x):uj(this.U,"YOUTUBE_DRAWER_AUTO_OPEN",x):Vc(this.U))};
g.I.EC=function(p,x){this.player.publish(p?"cardsteasershow":"cardsteaserhide",x)};
g.I.PO=function(){this.player.L().hG.unsubscribe("vast_info_card_add",this.Ig,this);g.sm(this.player.getRootNode(),g.j3.IV_DRAWER_OPEN);for(var p=this.pI,x=g.zp,a=0,v=p.length;a<v;a++)x.zg(p[a]);this.pI.length=0;g.Tf.prototype.PO.call(this)};
g.I.createElement=function(p){p=new g.N(p);g.Z(this,p);return p.element};g.He("annotations_module",Cwj);g.He("creatorendscreen",T4t);})(_yt_player);
